{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andonija\\\\apps\\\\git\\\\EcoLife\\\\ecolife\\\\src\\\\pages\\\\calculator\\\\Quiz.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useAuth } from '../../AuthContext';\nimport { db } from '../../firebaseConfig';\nimport { collection, addDoc, Timestamp } from 'firebase/firestore';\nimport './Quiz.css';\nimport './../Navbar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Quiz = () => {\n  _s();\n  var _questions$currentQue, _questions$currentQue2, _questions$currentQue3, _questions$currentQue4, _questions$currentQue5, _questions$currentQue6, _questions$currentQue7, _questions$currentQue8, _questions$currentQue9, _questions$currentQue10, _questions$currentQue11;\n  const {\n    currentUser\n  } = useAuth();\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState(Array(12).fill(0));\n  const [finalScore, setFinalScore] = useState(0);\n  const [showSummary, setShowSummary] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [showFirstPopup, setShowFirstPopup] = useState(true);\n  const [showSecondPopup, setShowSecondPopup] = useState(false);\n  const toggleMenu = () => {\n    setMenuOpen(!menuOpen);\n  };\n  const emojis = ['ðŸ˜¢',\n  // 1\n  'ðŸ˜Ÿ',\n  // 2\n  'ðŸ˜ž',\n  // 3\n  'ðŸ˜',\n  // 4\n  'ðŸ˜•',\n  // 5\n  'ðŸ™‚',\n  // 6\n  'ðŸ˜ƒ',\n  // 7\n  'ðŸ˜',\n  // 8\n  'ðŸ˜Ž',\n  // 9\n  'ðŸ¤©' // 10\n  ];\n  const questions = [{\n    id: 1,\n    title: 'How far do you travel by car or motorcycle each week?',\n    subtitle: '(as a driver or passenger)',\n    imageSrc: '/assets/car.png',\n    min: 0,\n    max: 500,\n    step: 10,\n    unit: 'km',\n    type: 'slider'\n  }, {\n    id: 2,\n    title: 'What is the average fuel economy of the vehicles you use most often?',\n    subtitle: '',\n    imageSrc: '/assets/fuel.jpg',\n    min: 1,\n    max: 20,\n    step: 1,\n    unit: 'liters / 100 km',\n    type: 'slider'\n  }, {\n    id: 3,\n    title: 'How often do you eat animal-based products?',\n    subtitle: '(beef, pork, chicken, fish, eggs, dairy products)',\n    imageSrc: '/assets/food.png',\n    min: 1,\n    max: 7,\n    step: 1,\n    unit: '',\n    type: 'slider'\n  }, {\n    id: 4,\n    title: 'How much of the food that you eat is unprocessed, unpackaged, or locally grown?',\n    subtitle: '(less than 320 kilometers/200 miles away)',\n    imageSrc: '/assets/local-food.png',\n    min: 0,\n    max: 100,\n    step: 1,\n    unit: '%',\n    type: 'slider'\n  }, {\n    id: 5,\n    title: 'Which housing type best describes your home?',\n    subtitle: '',\n    imageSrc: '/assets/housing.png',\n    options: ['Freestanding, no running water', 'Freestanding, running water', 'Multi-storey apartment', 'Duplex, row house or building with 2-4 housing units', 'Luxury condominium'],\n    type: 'radio'\n  }, {\n    id: 6,\n    title: 'What material is your house constructed with?',\n    subtitle: '',\n    imageSrc: '/assets/material.png',\n    options: ['Straw/bamboo', 'Wood', 'Brick/concrete', 'Steel/other'],\n    type: 'radio'\n  }, {\n    id: 7,\n    title: 'How many people live in your household?',\n    subtitle: '',\n    imageSrc: '/assets/household.jpg',\n    min: 1,\n    max: 10,\n    step: 1,\n    unit: '',\n    type: 'slider'\n  }, {\n    id: 8,\n    title: 'What is the size of your home?',\n    subtitle: '',\n    imageSrc: '/assets/house.png',\n    min: 0,\n    max: 300,\n    step: 10,\n    unit: 'sqm',\n    type: 'slider'\n  }, {\n    id: 9,\n    title: 'Do you have electricity in your home?',\n    subtitle: '',\n    imageSrc: '/assets/electricity.jpg',\n    options: ['yes', 'no'],\n    type: 'radio'\n  }, {\n    id: 10,\n    title: 'How energy efficient is your home?',\n    subtitle: '(modern appliances, climate controls)',\n    imageSrc: '/assets/efficiency.png',\n    min: 1,\n    max: 10,\n    step: 1,\n    unit: '',\n    type: 'slider'\n  }, {\n    id: 11,\n    title: 'What percentage of your home\\'s electricity comes from renewable sources?',\n    subtitle: '(either directly or through purchased green power)',\n    imageSrc: '/assets/renewable.png',\n    min: 0,\n    max: 100,\n    step: 1,\n    unit: '%',\n    type: 'slider'\n  }, {\n    id: 12,\n    title: 'Compared to your neighbors, how much trash do you generate?',\n    subtitle: '',\n    imageSrc: '/assets/trash.png',\n    min: 1,\n    max: 10,\n    step: 1,\n    unit: '',\n    type: 'slider'\n  }];\n  const calculateScore = () => {\n    let score = 0;\n    questions.forEach(question => {\n      const answer = answers[question.id - 1]; // Use index in the answers array\n      switch (question.id) {\n        case 1:\n          if (answer <= 50) score += 10;else if (answer <= 100) score += 8;else if (answer <= 200) score += 6;else if (answer <= 300) score += 4;else score += 1;\n          break;\n        case 2:\n          if (answer < 7) score += 9;else if (answer <= 12) score += 5;else score += 1;\n          break;\n        case 3:\n          if (answer === 1) score += 10;else if (answer === 2) score += 9;else if (answer === 3) score += 8;else if (answer === 4) score += 7;else if (answer === 5) score += 6;else if (answer === 6) score += 5;else if (answer === 7) score += 4;\n          break;\n        case 4:\n          if (answer >= 80) score += 10;else if (answer >= 50) score += 8;else if (answer >= 30) score += 6;else score += 3;\n          break;\n        case 5:\n          if (answer === 0) score += 10;else if (answer === 1) score += 10;else if (answer === 2) score += 8;else if (answer === 3) score += 7;else if (answer === 4) score += 5;\n          break;\n        case 6:\n          if (answer === 0) score += 10;else if (answer === 1) score += 10;else if (answer === 2) score += 5;else if (answer === 3) score += 1;\n          break;\n        case 7:\n          if (answer === 1) score += 2;else if (answer === 2) score += 5;else if (answer > 2) score += 10;\n          break;\n        case 8:\n          if (answer <= 20) score += 10;else if (answer <= 30) score += 9;else if (answer <= 50) score += 8;else if (answer <= 100) score += 7;else if (answer <= 200) score += 6;else score += 2;\n          break;\n        case 9:\n          if (answer === 1) score += 10;else if (answer === 0) score += 5;\n          break;\n        case 10:\n          score += answer;\n          break;\n        case 11:\n          score += Math.floor(answer / 10);\n          break;\n        case 12:\n          if (answer === 1) score += 10;else if (answer === 2) score += 9;else if (answer === 3) score += 8;else if (answer === 4) score += 7;else if (answer === 5) score += 6;else if (answer === 6) score += 5;else if (answer === 7) score += 4;\n          break;\n      }\n    });\n    const final = Math.round(score / questions.length);\n    setFinalScore(final);\n    return final;\n  };\n  const handleValueChange = (index, value) => {\n    const newAnswers = [...answers];\n    newAnswers[index] = value;\n    setAnswers(newAnswers);\n  };\n  const handleNext = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n    } else {\n      const score = calculateScore();\n      setShowSummary(true);\n      saveResult(score); // Save the result after calculating the score\n    }\n  };\n  const handlePrevious = () => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(currentQuestion - 1);\n    }\n  };\n  const saveResult = async score => {\n    if (currentUser) {\n      console.log(\"Current User ID:\", currentUser.uid);\n      console.log(\"Final Score:\", score);\n      try {\n        await addDoc(collection(db, 'quizResults'), {\n          userId: currentUser.uid,\n          score: score,\n          date: Timestamp.fromDate(new Date())\n        });\n        console.log(\"Result saved successfully!\");\n      } catch (error) {\n        console.error(\"Error saving result:\", error);\n      }\n    } else {\n      console.error(\"No current user authenticated!\");\n    }\n  };\n  const closeFirstPopup = () => {\n    setShowFirstPopup(false);\n    setShowSecondPopup(true);\n  };\n  const closeSecondPopup = () => {\n    setShowSecondPopup(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"menu-toggle\",\n        onClick: toggleMenu,\n        children: \"\\u2630 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: `navbar-links ${menuOpen ? 'open' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/tracking\",\n            children: \"Tracking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/shop\",\n            children: \"Shop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/articles\",\n            children: \"Articles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/profile\",\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), showFirstPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup-text\",\n          children: \"Welcome to our footprint calculator!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeFirstPopup,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 9\n    }, this), showSecondPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup-text\",\n          children: \"Track your sustainability progress by simply answering the following questions!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeSecondPopup,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }, this), !showSummary && !showFirstPopup && !showSecondPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: (_questions$currentQue = questions[currentQuestion]) === null || _questions$currentQue === void 0 ? void 0 : _questions$currentQue.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: (_questions$currentQue2 = questions[currentQuestion]) === null || _questions$currentQue2 === void 0 ? void 0 : _questions$currentQue2.subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: (_questions$currentQue3 = questions[currentQuestion]) === null || _questions$currentQue3 === void 0 ? void 0 : _questions$currentQue3.imageSrc,\n        alt: (_questions$currentQue4 = questions[currentQuestion]) === null || _questions$currentQue4 === void 0 ? void 0 : _questions$currentQue4.title,\n        className: \"question-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), (_questions$currentQue5 = questions[currentQuestion]) !== null && _questions$currentQue5 !== void 0 && _questions$currentQue5.options ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options\",\n        children: (_questions$currentQue6 = questions[currentQuestion]) === null || _questions$currentQue6 === void 0 ? void 0 : (_questions$currentQue7 = _questions$currentQue6.options) === null || _questions$currentQue7 === void 0 ? void 0 : _questions$currentQue7.map((option, index) => /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: `question-${currentQuestion}`,\n            value: index,\n            checked: answers[currentQuestion] === index,\n            onChange: () => handleValueChange(currentQuestion, index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 19\n          }, this), option]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"range\",\n        value: answers[currentQuestion],\n        min: (_questions$currentQue8 = questions[currentQuestion]) === null || _questions$currentQue8 === void 0 ? void 0 : _questions$currentQue8.min,\n        max: (_questions$currentQue9 = questions[currentQuestion]) === null || _questions$currentQue9 === void 0 ? void 0 : _questions$currentQue9.max,\n        step: (_questions$currentQue10 = questions[currentQuestion]) === null || _questions$currentQue10 === void 0 ? void 0 : _questions$currentQue10.step,\n        onChange: e => handleValueChange(currentQuestion, Number(e.target.value)),\n        className: \"range-slider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [answers[currentQuestion], \" \", (_questions$currentQue11 = questions[currentQuestion]) === null || _questions$currentQue11 === void 0 ? void 0 : _questions$currentQue11.unit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navigation-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button left\",\n          onClick: handlePrevious,\n          children: \"<\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button right\",\n          onClick: handleNext,\n          children: \">\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress\",\n          style: {\n            width: `${(currentQuestion + 1) / questions.length * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }, this), showSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your sustainability score is: \", finalScore]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: emojis[finalScore - 1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 5\n  }, this);\n};\n_s(Quiz, \"5qWZa96CxmF3ABomxWSLCwg0PFY=\", false, function () {\n  return [useAuth];\n});\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useState","useAuth","db","collection","addDoc","Timestamp","jsxDEV","_jsxDEV","Quiz","_s","_questions$currentQue","_questions$currentQue2","_questions$currentQue3","_questions$currentQue4","_questions$currentQue5","_questions$currentQue6","_questions$currentQue7","_questions$currentQue8","_questions$currentQue9","_questions$currentQue10","_questions$currentQue11","currentUser","currentQuestion","setCurrentQuestion","answers","setAnswers","Array","fill","finalScore","setFinalScore","showSummary","setShowSummary","menuOpen","setMenuOpen","showFirstPopup","setShowFirstPopup","showSecondPopup","setShowSecondPopup","toggleMenu","emojis","questions","id","title","subtitle","imageSrc","min","max","step","unit","type","options","calculateScore","score","forEach","question","answer","Math","floor","final","round","length","handleValueChange","index","value","newAnswers","handleNext","saveResult","handlePrevious","console","log","uid","userId","date","fromDate","Date","error","closeFirstPopup","closeSecondPopup","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","href","src","alt","map","option","name","checked","onChange","e","Number","target","style","width","_c","$RefreshReg$"],"sources":["C:/Users/Andonija/apps/git/EcoLife/ecolife/src/pages/calculator/Quiz.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../AuthContext';\r\nimport { db } from '../../firebaseConfig'; \r\nimport { collection, addDoc, Timestamp } from 'firebase/firestore'; \r\nimport './Quiz.css';\r\nimport './../Navbar.css';\r\n\r\nconst Quiz: React.FC = () => {\r\n  const { currentUser } = useAuth();\r\n  const [currentQuestion, setCurrentQuestion] = useState(0);\r\n  const [answers, setAnswers] = useState(Array(12).fill(0)); \r\n  const [finalScore, setFinalScore] = useState(0);\r\n  const [showSummary, setShowSummary] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [showFirstPopup, setShowFirstPopup] = useState(true);\r\n  const [showSecondPopup, setShowSecondPopup] = useState(false);\r\n\r\n  const toggleMenu = () => {\r\n    setMenuOpen(!menuOpen);\r\n  };\r\n\r\n  const emojis = [\r\n    'ðŸ˜¢', // 1\r\n    'ðŸ˜Ÿ', // 2\r\n    'ðŸ˜ž', // 3\r\n    'ðŸ˜', // 4\r\n    'ðŸ˜•', // 5\r\n    'ðŸ™‚', // 6\r\n    'ðŸ˜ƒ', // 7\r\n    'ðŸ˜', // 8\r\n    'ðŸ˜Ž', // 9\r\n    'ðŸ¤©', // 10\r\n  ];\r\n  \r\n  const questions = [\r\n    {\r\n      id: 1,\r\n      title: 'How far do you travel by car or motorcycle each week?',\r\n      subtitle: '(as a driver or passenger)',\r\n      imageSrc: '/assets/car.png',\r\n      min: 0,\r\n      max: 500,\r\n      step: 10,\r\n      unit: 'km',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'What is the average fuel economy of the vehicles you use most often?',\r\n      subtitle: '',\r\n      imageSrc: '/assets/fuel.jpg',\r\n      min: 1,\r\n      max: 20,\r\n      step: 1,\r\n      unit: 'liters / 100 km',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 3,\r\n      title: 'How often do you eat animal-based products?',\r\n      subtitle: '(beef, pork, chicken, fish, eggs, dairy products)',\r\n      imageSrc: '/assets/food.png',\r\n      min: 1,\r\n      max: 7,\r\n      step: 1,\r\n      unit: '',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 4,\r\n      title: 'How much of the food that you eat is unprocessed, unpackaged, or locally grown?',\r\n      subtitle: '(less than 320 kilometers/200 miles away)',\r\n      imageSrc: '/assets/local-food.png',\r\n      min: 0,\r\n      max: 100,\r\n      step: 1,\r\n      unit: '%',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 5,\r\n      title: 'Which housing type best describes your home?',\r\n      subtitle: '',\r\n      imageSrc: '/assets/housing.png',\r\n      options: [\r\n        'Freestanding, no running water',\r\n        'Freestanding, running water',\r\n        'Multi-storey apartment',\r\n        'Duplex, row house or building with 2-4 housing units',\r\n        'Luxury condominium',\r\n      ],\r\n      type: 'radio',\r\n    },\r\n    {\r\n      id: 6,\r\n      title: 'What material is your house constructed with?',\r\n      subtitle: '',\r\n      imageSrc: '/assets/material.png',\r\n      options: [\r\n        'Straw/bamboo',\r\n        'Wood',\r\n        'Brick/concrete',\r\n        'Steel/other',\r\n      ],\r\n      type: 'radio',\r\n    },\r\n    {\r\n      id: 7,\r\n      title: 'How many people live in your household?',\r\n      subtitle: '',\r\n      imageSrc: '/assets/household.jpg',\r\n      min: 1,\r\n      max: 10,\r\n      step: 1,\r\n      unit: '',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 8,\r\n      title: 'What is the size of your home?',\r\n      subtitle: '',\r\n      imageSrc: '/assets/house.png',\r\n      min: 0,\r\n      max: 300,\r\n      step: 10,\r\n      unit: 'sqm',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 9,\r\n      title: 'Do you have electricity in your home?',\r\n      subtitle: '',\r\n      imageSrc: '/assets/electricity.jpg',\r\n      options: [\r\n        'yes',\r\n        'no',\r\n      ],\r\n      type: 'radio',\r\n    },\r\n    {\r\n      id: 10,\r\n      title: 'How energy efficient is your home?',\r\n      subtitle: '(modern appliances, climate controls)',\r\n      imageSrc: '/assets/efficiency.png',\r\n      min: 1,\r\n      max: 10,\r\n      step: 1,\r\n      unit: '',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 11,\r\n      title: 'What percentage of your home\\'s electricity comes from renewable sources?',\r\n      subtitle: '(either directly or through purchased green power)',\r\n      imageSrc: '/assets/renewable.png',\r\n      min: 0,\r\n      max: 100,\r\n      step: 1,\r\n      unit: '%',\r\n      type: 'slider',\r\n    },\r\n    {\r\n      id: 12,\r\n      title: 'Compared to your neighbors, how much trash do you generate?',\r\n      subtitle: '',\r\n      imageSrc: '/assets/trash.png',\r\n      min: 1,\r\n      max: 10,\r\n      step: 1,\r\n      unit: '',\r\n      type: 'slider',\r\n    },\r\n  ];\r\n\r\n  const calculateScore = () => {\r\n    let score = 0;\r\n    questions.forEach(question => {\r\n      const answer = answers[question.id - 1]; // Use index in the answers array\r\n      switch (question.id) {\r\n        case 1:\r\n          if (answer <= 50) score += 10;\r\n          else if (answer <= 100) score += 8;\r\n          else if (answer <= 200) score += 6;\r\n          else if (answer <= 300) score += 4;\r\n          else score += 1;\r\n          break;\r\n        case 2:\r\n          if (answer < 7) score += 9;\r\n          else if (answer <= 12) score += 5;\r\n          else score += 1;\r\n          break;\r\n        case 3:\r\n          if (answer === 1) score += 10;\r\n          else if (answer === 2) score += 9;\r\n          else if (answer === 3) score += 8;\r\n          else if (answer === 4) score += 7;\r\n          else if (answer === 5) score += 6;\r\n          else if (answer === 6) score += 5;\r\n          else if (answer === 7) score += 4;\r\n          break;\r\n        case 4:\r\n          if (answer >= 80) score += 10;\r\n          else if (answer >= 50) score += 8;\r\n          else if (answer >= 30) score += 6;\r\n          else score += 3;\r\n          break;\r\n        case 5:\r\n          if (answer === 0) score += 10;\r\n          else if (answer === 1) score += 10;\r\n          else if (answer === 2) score += 8;\r\n          else if (answer === 3) score += 7;\r\n          else if (answer === 4) score += 5;\r\n          break;\r\n        case 6:\r\n          if (answer === 0) score += 10;\r\n          else if (answer === 1) score += 10;\r\n          else if (answer === 2) score += 5;\r\n          else if (answer === 3) score += 1;\r\n          break;\r\n        case 7:\r\n          if (answer === 1) score += 2;\r\n          else if (answer === 2) score += 5;\r\n          else if (answer > 2) score += 10;\r\n          break;\r\n        case 8:\r\n          if (answer <= 20) score += 10;\r\n          else if (answer <= 30) score += 9;\r\n          else if (answer <= 50) score += 8;\r\n          else if (answer <= 100) score += 7;\r\n          else if (answer <= 200) score += 6;\r\n          else score += 2;\r\n          break;\r\n        case 9:\r\n          if (answer === 1) score += 10;\r\n          else if (answer === 0) score += 5;\r\n          break;\r\n        case 10:\r\n          score += answer; \r\n          break;\r\n        case 11:\r\n          score += Math.floor(answer / 10); \r\n          break;\r\n        case 12:\r\n          if (answer === 1) score += 10;\r\n          else if (answer === 2) score += 9;\r\n          else if (answer === 3) score += 8;\r\n          else if (answer === 4) score += 7;\r\n          else if (answer === 5) score += 6;\r\n          else if (answer === 6) score += 5;\r\n          else if (answer === 7) score += 4;\r\n          break;\r\n      }\r\n    });\r\n    const final = Math.round(score / questions.length);\r\n    setFinalScore(final);\r\n    return final;\r\n  };\r\n\r\n  const handleValueChange = (index: number, value: number) => {\r\n    const newAnswers = [...answers];\r\n    newAnswers[index] = value;\r\n    setAnswers(newAnswers);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentQuestion < questions.length - 1) {\r\n      setCurrentQuestion(currentQuestion + 1);\r\n    } else {\r\n      const score = calculateScore();\r\n      setShowSummary(true);\r\n      saveResult(score); // Save the result after calculating the score\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentQuestion > 0) {\r\n      setCurrentQuestion(currentQuestion - 1);\r\n    }\r\n  };\r\n\r\n  const saveResult = async (score: number) => {\r\n    if (currentUser) {\r\n      console.log(\"Current User ID:\", currentUser.uid);\r\n      console.log(\"Final Score:\", score);\r\n      try {\r\n        await addDoc(collection(db, 'quizResults'), {\r\n          userId: currentUser.uid,\r\n          score: score,\r\n          date: Timestamp.fromDate(new Date()),\r\n        });\r\n        console.log(\"Result saved successfully!\");\r\n      } catch (error) {\r\n        console.error(\"Error saving result:\", error);\r\n      }\r\n    } else {\r\n      console.error(\"No current user authenticated!\");\r\n    }\r\n  };\r\n\r\n  const closeFirstPopup = () => {\r\n    setShowFirstPopup(false);\r\n    setShowSecondPopup(true);\r\n  };\r\n\r\n  const closeSecondPopup = () => {\r\n    setShowSecondPopup(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"quiz-container\">\r\n      <nav className=\"navbar\">\r\n        <button className=\"menu-toggle\" onClick={toggleMenu}>\r\n          &#9776; {/* Hamburger icon */}\r\n        </button>\r\n        <ul className={`navbar-links ${menuOpen ? 'open' : ''}`}>\r\n          <li><a href=\"/\">Home</a></li>\r\n          <li><a href=\"/tracking\">Tracking</a></li>\r\n          <li><a href=\"/shop\">Shop</a></li>\r\n          <li><a href=\"/articles\">Articles</a></li>\r\n          <li><a href=\"/profile\">Profile</a></li>\r\n        </ul>\r\n      </nav>\r\n      {showFirstPopup && (\r\n        <div className=\"popup\">\r\n          <div className=\"popup-inner\">\r\n            <div className=\"popup-text\">Welcome to our footprint calculator!</div>\r\n            <button onClick={closeFirstPopup}>Close</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showSecondPopup && (\r\n        <div className=\"popup\">\r\n          <div className=\"popup-inner\">\r\n            <div className=\"popup-text\">Track your sustainability progress by simply answering the following questions!</div>\r\n            <button onClick={closeSecondPopup}>Close</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {!showSummary && !showFirstPopup && !showSecondPopup && (\r\n        <div className=\"quiz-card\">\r\n          <h2>{questions[currentQuestion]?.title}</h2>\r\n          <p>{questions[currentQuestion]?.subtitle}</p>\r\n          <img src={questions[currentQuestion]?.imageSrc} alt={questions[currentQuestion]?.title} className=\"question-image\" />\r\n          {questions[currentQuestion]?.options ? (\r\n            <div className=\"options\">\r\n              {questions[currentQuestion]?.options?.map((option, index) => (\r\n                <label key={index}>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name={`question-${currentQuestion}`}\r\n                    value={index}\r\n                    checked={answers[currentQuestion] === index}\r\n                    onChange={() => handleValueChange(currentQuestion, index)}\r\n                  />\r\n                  {option}\r\n                </label>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <input\r\n              type=\"range\"\r\n              value={answers[currentQuestion]}\r\n              min={questions[currentQuestion]?.min}\r\n              max={questions[currentQuestion]?.max}\r\n              step={questions[currentQuestion]?.step}\r\n              onChange={(e) => handleValueChange(currentQuestion, Number(e.target.value))}\r\n              className=\"range-slider\"\r\n            />\r\n          )}\r\n          <p>\r\n            {answers[currentQuestion]} {questions[currentQuestion]?.unit}\r\n          </p>\r\n          <div className=\"navigation-buttons\">\r\n            <button className=\"nav-button left\" onClick={handlePrevious}>&lt;</button>\r\n            <button className=\"nav-button right\" onClick={handleNext}>&gt;</button>\r\n          </div>\r\n          <div className=\"progress-bar\">\r\n            <div\r\n              className=\"progress\"\r\n              style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showSummary && (\r\n        <div className=\"summary\">\r\n          <h2>Summary</h2>\r\n          <p>Your sustainability score is: {finalScore}</p>\r\n          <p>{emojis[finalScore - 1]}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Quiz;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}